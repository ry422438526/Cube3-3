   1              		.arch armv5te
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 2
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 0
  11              		.eabi_attribute 18, 4
  12              		.file	"Cube_monitor.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.align	2
  17              		.global	monitor
  19              	monitor:
  20              		.fnstart
  21              	.LFB11:
  22              		.file 1 "Cube_monitor.c"
   1:Cube_monitor.c **** //
   2:Cube_monitor.c **** //  Cube_monitor.c
   3:Cube_monitor.c **** //  Cube3*3
   4:Cube_monitor.c **** //
   5:Cube_monitor.c **** //  Created by Ryoma on 20.01.16.
   6:Cube_monitor.c **** //  Copyright © 2016 Chunxia Yang. All rights reserved.
   7:Cube_monitor.c **** //
   8:Cube_monitor.c **** 
   9:Cube_monitor.c **** #include "Cube_monitor.h"
  10:Cube_monitor.c **** #include <fcntl.h>
  11:Cube_monitor.c **** #include <sys/ioctl.h>
  12:Cube_monitor.c **** #include <stdio.h>
  13:Cube_monitor.c **** #include <unistd.h>
  14:Cube_monitor.c **** #include  <sys/mman.h>
  15:Cube_monitor.c **** #include "lms2012.h"
  16:Cube_monitor.c **** 
  17:Cube_monitor.c **** const char IIC_PORT=0x04;
  18:Cube_monitor.c **** int iic_device_file;
  19:Cube_monitor.c **** IIC *pIic;
  20:Cube_monitor.c **** int i;
  21:Cube_monitor.c **** 
  22:Cube_monitor.c **** int monitor(){
  23              		.loc 1 22 0
  24              		.cfi_startproc
  25              		@ args = 0, pretend = 0, frame = 0
  26              		@ frame_needed = 0, uses_anonymous_args = 0
  27 0000 F0412DE9 		stmfd	sp!, {r4, r5, r6, r7, r8, lr}
  28              		.save {r4, r5, r6, r7, r8, lr}
  29              		.cfi_def_cfa_offset 24
  30              		.cfi_offset 4, -24
  31              		.cfi_offset 5, -20
  32              		.cfi_offset 6, -16
  33              		.cfi_offset 7, -12
  34              		.cfi_offset 8, -8
  35              		.cfi_offset 14, -4
  36              		.pad #8
  37 0004 08D04DE2 		sub	sp, sp, #8
  38              		.cfi_def_cfa_offset 32
  23:Cube_monitor.c ****     //Geräte initialisieren
  24:Cube_monitor.c ****     if((iic_device_file = open(IIC_DEVICE_NAME, O_RDWR | O_SYNC)) == -1)
  39              		.loc 1 24 0
  40 0008 C4009FE5 		ldr	r0, .L7
  41 000c C4109FE5 		ldr	r1, .L7+4
  42 0010 FEFFFFEB 		bl	open
  43              	.LVL0:
  44 0014 C0309FE5 		ldr	r3, .L7+8
  45 0018 000083E5 		str	r0, [r3]
  46 001c 010070E3 		cmn	r0, #1
  47 0020 0300001A 		bne	.L2
  25:Cube_monitor.c ****     {
  26:Cube_monitor.c ****         printf("Failed to open IIC device\n");
  48              		.loc 1 26 0
  49 0024 B4009FE5 		ldr	r0, .L7+12
  50 0028 FEFFFFEB 		bl	printf
  51              	.LVL1:
  27:Cube_monitor.c ****         return -1;
  52              		.loc 1 27 0
  53 002c 0000E0E3 		mvn	r0, #0
  54 0030 250000EA 		b	.L3
  55              	.L2:
  28:Cube_monitor.c ****     }
  29:Cube_monitor.c ****     pIic  =  (IIC*)mmap(0, sizeof(UART), PROT_READ | PROT_WRITE, MAP_FILE | MAP_SHARED, iic_device_
  56              		.loc 1 29 0
  57 0034 00008DE5 		str	r0, [sp]
  58 0038 0000A0E3 		mov	r0, #0
  59 003c 04008DE5 		str	r0, [sp, #4]
  60 0040 9C109FE5 		ldr	r1, .L7+16
  61 0044 0320A0E3 		mov	r2, #3
  62 0048 0130A0E3 		mov	r3, #1
  63 004c FEFFFFEB 		bl	mmap
  64              	.LVL2:
  65 0050 90309FE5 		ldr	r3, .L7+20
  66 0054 000083E5 		str	r0, [r3]
  30:Cube_monitor.c ****     if (pIic == MAP_FAILED)
  67              		.loc 1 30 0
  68 0058 010070E3 		cmn	r0, #1
  69 005c 0300001A 		bne	.L4
  31:Cube_monitor.c ****     {
  32:Cube_monitor.c ****         printf("Mapping IIC device failed\n");
  70              		.loc 1 32 0
  71 0060 84009FE5 		ldr	r0, .L7+24
  72 0064 FEFFFFEB 		bl	printf
  73              	.LVL3:
  33:Cube_monitor.c ****         return -1;
  74              		.loc 1 33 0
  75 0068 0000E0E3 		mvn	r0, #0
  76 006c 160000EA 		b	.L3
  77              	.L4:
  34:Cube_monitor.c ****     }
  35:Cube_monitor.c ****     for(i = 0;i<100;i++)
  78              		.loc 1 35 0
  79 0070 0020A0E3 		mov	r2, #0
  80 0074 74309FE5 		ldr	r3, .L7+28
  81 0078 002083E5 		str	r2, [r3]
  36:Cube_monitor.c ****     {
  37:Cube_monitor.c ****         printf("Value: %d \n", (unsigned char)pIic->Raw[IIC_PORT][pIic->Actual[IIC_PORT]][0]);
  82              		.loc 1 37 0
  83 007c 64809FE5 		ldr	r8, .L7+20
  84 0080 6C709FE5 		ldr	r7, .L7+32
  85 0084 6C609FE5 		ldr	r6, .L7+36
  38:Cube_monitor.c ****         sleep(1);
  86              		.loc 1 38 0
  87 0088 0150A0E3 		mov	r5, #1
  35:Cube_monitor.c ****     {
  88              		.loc 1 35 0
  89 008c 0340A0E1 		mov	r4, r3
  90              	.L5:
  37:Cube_monitor.c ****         sleep(1);
  91              		.loc 1 37 0 discriminator 2
  92 0090 003098E5 		ldr	r3, [r8]
  93 0094 B62093E1 		ldrh	r2, [r3, r6]
  94 0098 532E82E2 		add	r2, r2, #1328
  95 009c 032082E2 		add	r2, r2, #3
  96 00a0 0700A0E1 		mov	r0, r7
  97 00a4 8212D3E7 		ldrb	r1, [r3, r2, asl #5]	@ zero_extendqisi2
  98 00a8 FEFFFFEB 		bl	printf
  99              	.LVL4:
 100              		.loc 1 38 0 discriminator 2
 101 00ac 0500A0E1 		mov	r0, r5
 102 00b0 FEFFFFEB 		bl	sleep
 103              	.LVL5:
  35:Cube_monitor.c ****     {
 104              		.loc 1 35 0 discriminator 2
 105 00b4 003094E5 		ldr	r3, [r4]
 106 00b8 013083E2 		add	r3, r3, #1
 107 00bc 003084E5 		str	r3, [r4]
 108 00c0 630053E3 		cmp	r3, #99
 109 00c4 F1FFFFDA 		ble	.L5
  39:Cube_monitor.c ****     }
  40:Cube_monitor.c ****     
  41:Cube_monitor.c ****     return 0;
 110              		.loc 1 41 0
 111 00c8 0000A0E3 		mov	r0, #0
 112              	.L3:
  42:Cube_monitor.c **** }
 113              		.loc 1 42 0
 114 00cc 08D08DE2 		add	sp, sp, #8
 115              		@ sp needed
 116 00d0 F081BDE8 		ldmfd	sp!, {r4, r5, r6, r7, r8, pc}
 117              	.L8:
 118              		.align	2
 119              	.L7:
 120 00d4 00000000 		.word	.LC0
 121 00d8 02101000 		.word	1052674
 122 00dc 00000000 		.word	iic_device_file
 123 00e0 10000000 		.word	.LC1
 124 00e4 F8A60000 		.word	42744
 125 00e8 00000000 		.word	pIic
 126 00ec 2C000000 		.word	.LC2
 127 00f0 00000000 		.word	i
 128 00f4 48000000 		.word	.LC3
 129 00f8 68A60000 		.word	42600
 130              		.cfi_endproc
 131              	.LFE11:
 132              		.fnend
 134              		.align	2
 135              		.global	monitor_close
 137              	monitor_close:
 138              		.fnstart
 139              	.LFB12:
  43:Cube_monitor.c **** int monitor_close(){
 140              		.loc 1 43 0
 141              		.cfi_startproc
 142              		@ args = 0, pretend = 0, frame = 0
 143              		@ frame_needed = 0, uses_anonymous_args = 0
 144 00fc 08402DE9 		stmfd	sp!, {r3, lr}
 145              		.save {r3, lr}
 146              		.cfi_def_cfa_offset 8
 147              		.cfi_offset 3, -8
 148              		.cfi_offset 14, -4
  44:Cube_monitor.c **** #ifdef __linux
  45:Cube_monitor.c ****     close(iic_device_file);
 149              		.loc 1 45 0
 150 0100 0C309FE5 		ldr	r3, .L10
 151 0104 000093E5 		ldr	r0, [r3]
 152 0108 FEFFFFEB 		bl	close
 153              	.LVL6:
  46:Cube_monitor.c **** #endif
  47:Cube_monitor.c ****     return 0;
  48:Cube_monitor.c **** }...
 154              		.loc 1 48 0
 155 010c 0000A0E3 		mov	r0, #0
 156 0110 0880BDE8 		ldmfd	sp!, {r3, pc}
 157              	.L11:
 158              		.align	2
 159              	.L10:
 160 0114 00000000 		.word	iic_device_file
 161              		.cfi_endproc
 162              	.LFE12:
 163              		.fnend
 165              		.comm	i,4,4
 166              		.comm	pIic,4,4
 167              		.comm	iic_device_file,4,4
 168              		.global	IIC_PORT
 169              		.section	.rodata
 172              	IIC_PORT:
 173 0000 04       		.byte	4
 174              		.section	.rodata.str1.4,"aMS",%progbits,1
 175              		.align	2
 176              	.LC0:
 177 0000 2F646576 		.ascii	"/dev/lms_iic\000"
 177      2F6C6D73 
 177      5F696963 
 177      00
 178 000d 000000   		.space	3
 179              	.LC1:
 180 0010 4661696C 		.ascii	"Failed to open IIC device\012\000"
 180      65642074 
 180      6F206F70 
 180      656E2049 
 180      49432064 
 181 002b 00       		.space	1
 182              	.LC2:
 183 002c 4D617070 		.ascii	"Mapping IIC device failed\012\000"
 183      696E6720 
 183      49494320 
 183      64657669 
 183      63652066 
 184 0047 00       		.space	1
 185              	.LC3:
 186 0048 56616C75 		.ascii	"Value: %d \012\000"
 186      653A2025 
 186      64200A00 
 187              		.text
 188              	.Letext0:
 189              		.file 2 "/usr/local/carlson-minot/crosscompilers/lib/gcc/arm-none-linux-gnueabi/4.8.3/include/stdd
 190              		.file 3 "/usr/local/carlson-minot/crosscompilers/arm-none-linux-gnueabi/libc-2014.05-29-sysroot/us
 191              		.file 4 "/usr/local/carlson-minot/crosscompilers/arm-none-linux-gnueabi/libc-2014.05-29-sysroot/us
 192              		.file 5 "lmstypes.h"
 193              		.file 6 "lms2012.h"
 194              		.file 7 "/usr/local/carlson-minot/crosscompilers/arm-none-linux-gnueabi/libc-2014.05-29-sysroot/us
 195              		.file 8 "/usr/local/carlson-minot/crosscompilers/arm-none-linux-gnueabi/libc-2014.05-29-sysroot/us
 196              		.file 9 "/usr/local/carlson-minot/crosscompilers/arm-none-linux-gnueabi/libc-2014.05-29-sysroot/us
 197              		.file 10 "/usr/local/carlson-minot/crosscompilers/arm-none-linux-gnueabi/libc-2014.05-29-sysroot/u
 198              		.file 11 "bytecodes.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 Cube_monitor.c
/var/folders/x0/118sfpkj75v4t4_qgl0ndwr00000gn/T//ccdrTt8b.s:16     .text:0000000000000000 $a
/var/folders/x0/118sfpkj75v4t4_qgl0ndwr00000gn/T//ccdrTt8b.s:19     .text:0000000000000000 monitor
/var/folders/x0/118sfpkj75v4t4_qgl0ndwr00000gn/T//ccdrTt8b.s:120    .text:00000000000000d4 $d
                            *COM*:0000000000000004 iic_device_file
                            *COM*:0000000000000004 pIic
                            *COM*:0000000000000004 i
                       .ARM.exidx:0000000000000000 $d
/var/folders/x0/118sfpkj75v4t4_qgl0ndwr00000gn/T//ccdrTt8b.s:134    .text:00000000000000fc $a
/var/folders/x0/118sfpkj75v4t4_qgl0ndwr00000gn/T//ccdrTt8b.s:137    .text:00000000000000fc monitor_close
/var/folders/x0/118sfpkj75v4t4_qgl0ndwr00000gn/T//ccdrTt8b.s:160    .text:0000000000000114 $d
                       .ARM.extab:0000000000000000 $d
/var/folders/x0/118sfpkj75v4t4_qgl0ndwr00000gn/T//ccdrTt8b.s:172    .rodata:0000000000000000 IIC_PORT
/var/folders/x0/118sfpkj75v4t4_qgl0ndwr00000gn/T//ccdrTt8b.s:175    .rodata.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
open
printf
mmap
sleep
__aeabi_unwind_cpp_pr0
close
__aeabi_unwind_cpp_pr1
